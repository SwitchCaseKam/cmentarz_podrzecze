"use strict";(self.webpackChunkcemetery=self.webpackChunkcemetery||[]).push([[140],{58140:function(t,e,n){n.r(e),n.d(e,{ListModule:function(){return A}});var a=n(38583),i=n(33256),o=n(75319),r=n(45435),c=n(93342),l=n(43190),s=n(33018),p=n(27182),u=n(17590);function d(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"tr",5),s.NdJ("click",function(){const e=s.CHM(t).$implicit;return s.oxw().onRowClick(e.tombId,e.id)}),s.TgZ(1,"td",6),s._uU(2),s.qZA(),s.TgZ(3,"td"),s.TgZ(4,"b"),s._uU(5),s.qZA(),s.qZA(),s.TgZ(6,"td"),s._uU(7),s.qZA(),s.TgZ(8,"td"),s._uU(9),s.qZA(),s.qZA()}if(2&t){const t=e.$implicit,n=e.index;s.xp6(2),s.Oqu(n+1),s.xp6(3),s.AsE("",t.surname," ",t.name,""),s.xp6(2),s.Oqu(t.birthDate),s.xp6(2),s.Oqu(t.deathDate)}}let g=(()=>{class t{constructor(t){this.tombMarkerService=t}onRowClick(t){this.tombMarkerService.redirectToMapAndMarkTomb(t,500)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(u.N))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-people-table"]],inputs:{allPeople:"allPeople"},decls:14,vars:1,consts:[["id","people-table-list"],[1,"table","table-hover"],[1,"thead-dark"],["scope","col"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],["scope","row"]],template:function(t,e){1&t&&(s.TgZ(0,"div",0),s.TgZ(1,"table",1),s.TgZ(2,"thead",2),s.TgZ(3,"tr"),s.TgZ(4,"th",3),s._uU(5,"Nr"),s.qZA(),s.TgZ(6,"th",3),s._uU(7,"Nazwisko i imi\u0119"),s.qZA(),s.TgZ(8,"th",3),s._uU(9,"Data urodzenia"),s.qZA(),s.TgZ(10,"th",3),s._uU(11,"Data \u015bmierci"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(12,"tbody"),s.YNc(13,d,10,5,"tr",4),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(13),s.Q6J("ngForOf",e.allPeople))},directives:[a.sg],styles:["#people-table-list[_ngcontent-%COMP%]{padding-top:1.5em;padding-bottom:1em;-webkit-animation-name:fade-in;animation-name:fade-in;-webkit-animation-duration:1s;animation-duration:1s}.table-hover[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#379bc2;color:#fff}.table[_ngcontent-%COMP%]{background-color:rgba(236,235,235,.6);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);border:1px solid rgb(83,82,82)}"]}),t})();var b=n(52173);function m(t,e){if(1&t&&(s.ynx(0),s._uU(1,"Stan na dzie\u0144: "),s.TgZ(2,"b"),s._uU(3),s.qZA(),s.BQk()),2&t){const t=s.oxw(2);s.xp6(3),s.Oqu(t.dbDate)}}function f(t,e){if(1&t&&(s.ynx(0),s.TgZ(1,"h1",3),s._uU(2,"Lista zmar\u0142ych"),s.qZA(),s.TgZ(3,"div",4),s._uU(4," Lista zmar\u0142ych zosta\u0142a uporz\u0105dkowana alfabetycznie."),s._UZ(5,"br"),s._uU(6," Klikni\u0119cie na dany wiersz w tabeli przekierowuje na map\u0119 cmentarza z zaznaczonym grobem, w kt\xf3rym spoczywa zmar\u0142y."),s._UZ(7,"br"),s.YNc(8,m,4,1,"ng-container",5),s.qZA(),s._UZ(9,"app-people-table",6),s.BQk()),2&t){const t=s.oxw();s.xp6(8),s.Q6J("ngIf",t.dbDate),s.xp6(1),s.Q6J("allPeople",t.allPeople)}}function Z(t,e){1&t&&(s.TgZ(0,"div",7),s._UZ(1,"app-spinner"),s.qZA())}const h=[{path:"",component:(()=>{class t{constructor(t){this.dataService=t,this.dataSubscription=new o.w}ngOnInit(){this.fetchListDataToDisplay()}ngOnDestroy(){var t;null===(t=this.dataSubscription)||void 0===t||t.unsubscribe()}fetchListDataToDisplay(){this.dataSubscription=this.dataService.getAllPeopleSubject().pipe((0,r.h)(t=>(null==t?void 0:t.length)>0),(0,c.b)(t=>{this.allPeople=t.sort((t,e)=>t.surname.localeCompare(e.surname,"pl",{ignorePunctuation:!0}))}),(0,l.w)(()=>this.dataService.getDatabaseDateSubject()),(0,r.h)(t=>""!==t)).subscribe(t=>this.dbDate=t)}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(p.D))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-list"]],decls:4,vars:2,consts:[[1,"container"],[4,"ngIf","ngIfElse"],["noData",""],[1,"title"],["id","people-list-box"],[4,"ngIf"],[3,"allPeople"],[1,"no-data-container"]],template:function(t,e){if(1&t&&(s.TgZ(0,"div",0),s.YNc(1,f,10,2,"ng-container",1),s.YNc(2,Z,2,0,"ng-template",null,2,s.W1O),s.qZA()),2&t){const t=s.MAs(3);s.xp6(1),s.Q6J("ngIf",e.allPeople)("ngIfElse",t)}},directives:[a.O5,g,b.O],styles:["#people-list-box[_ngcontent-%COMP%]{margin-top:1em;-webkit-animation-name:fade-in;animation-name:fade-in;-webkit-animation-duration:1s;animation-duration:1s}.title[_ngcontent-%COMP%]{margin-top:1em}.no-data-container[_ngcontent-%COMP%]{padding-top:1em;display:flex;justify-content:center;text-align:center;height:40vh}"]}),t})()}];let k=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[i.Bz.forChild(h)],i.Bz]}),t})();var w=n(90754);let A=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=s.oAB({type:t}),t.\u0275inj=s.cJS({imports:[[a.ez,k,w.U]]}),t})()}}]);